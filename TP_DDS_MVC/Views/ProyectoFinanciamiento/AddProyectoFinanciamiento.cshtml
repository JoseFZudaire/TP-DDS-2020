@using TP_DDS_MVC.Models.Ingresos
@using TP_DDS_MVC.Models.Compras
@model TP_DDS_MVC.Helpers.JsonEgreso

@{
    @section scripts {
        <script type="text/javascript" src="~/Scripts/MyScripts/agregarProyecto.js"></script>
    }

    ViewBag.Title = "AddProyectoFinanciamiento";

}

<div class="pb-3">
    <h2>Crear un Proyecto de Financiamiento</h2>
</div>
<div class="form-row">
    <div class="form-group col-md-4">
        <label for="propuesta">Propuesta</label>
        <input id="propuesta" type="text" class="form-control" placeholder="Propuesta">
    </div>
    <div class="form-group col-md-4">
        <label for="cantPresupuestos">Cantidad de Presupuestos exigibles</label>
        <input id="cantPresupuestos" type="number" class="form-control" placeholder="0" step="1" min="0">
    </div>
    <div class="form-group col-md-4">
        <label for="limiteErogacion">Ingrese el monto límite de erogación</label>
        <input id="limiteErogacion" type="number" class="form-control" placeholder="0" step="0.01" min="0">
    </div>
</div>
<div class="form-row mb-5">
    <div class="form-group col-md-4">
        <label for="fechaCierre">Ingrese la fecha de cierre</label>
        <input id="fechaCierre" type="date" class="form-control" placeholder="Fecha de Cierre">
    </div>
    <div class="form-group col-md-4">
        <label for="fechaEjecucion">Ingrese la fecha de ejecución</label>
        <input id="fechaEjecucion" type="date" class="form-control" placeholder="Fecha de Ejecución">
    </div>
</div>

<div class="form-row">
    <div class="form-group col">
        <h4>Agregar Ingreso</h4>
        <div class="form-group">
            <label for="ingreso">Seleccione un ingreso</label>
            <input list="ingresos" class="form-control" placeholder="Seleccionar..." id="ingreso" type="text">
            <datalist id="ingresos">
                @foreach (Ingreso ingreso in (List<Ingreso>)ViewBag.ingresos)
                {
                    <option value=@ingreso.idIngreso>@ingreso.descripcion</option>
                }
            </datalist>
        </div>
        <button class="btn btn-primary btn-sm mb-1" id="agregarIng">Agregar</button>
        <br />
        <br />
        <h5>Lista de ingresos</h5>
        <div class="col-6">
            <label id="noIng">No hay ingresos agregados</label>
            <ul class="list-group list-group-flush pb-5" id="listaIng">
            </ul>
        </div>
    </div>

    <div class="form-group col">
        <h4>Agregar Presupuestos</h4>
        <div class="form-group">
            <label for="documentos">Seleccione un presupuesto</label>
            <input class="form-control" list="documentos" id="documento" type="text" placeholder="Seleccionar...">
            <datalist id="documentos">
                @foreach (Presupuesto pres in (List<Presupuesto>)ViewBag.presupuestos)
                {
                    <option value="@pres.idDocComercial">@pres.nroIdentificacion</option>
                }
            </datalist>
        </div>
        <button class="btn btn-primary btn-sm mb-1" id="agregarDoc">Agregar</button>
        <br />
        <br />
        <h5>Lista de presupuestos</h5>
        <div class="col-6">
            <label id="noDocs">No hay presupuestos agregados</label>
            <ul class="list-group list-group-flush pb-5" id="listaDocs">
            </ul>
        </div>
    </div>
</div>


<br />

<span>
    <button class="btn btn-success col-lg-2" id="submit">Crear</button>
    @Html.ActionLink("Cancelar", "Index", new { controller = "Compra" }, new { @class = "btn btn-secondary col-lg-1" })
</span>

